{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder';\nimport { useValue } from '../../context/ContextProvider';\nconst ctrl = new MapboxGeocoder({\n  marker: false,\n  accessToken: process.env.REACT_APP_MAP_TOKEN\n});\nconst GeocoderInput = () => {\n  _s();\n  const {\n    mapRef,\n    searchRef,\n    dispatch\n  } = useValue();\n  useEffect(() => {\n    var _searchRef$current;\n    if (searchRef !== null && searchRef !== void 0 && (_searchRef$current = searchRef.current) !== null && _searchRef$current !== void 0 && _searchRef$current.children[0]) {\n      searchRef.current.removeChild(searchRef.current.children[0]);\n    }\n    searchRef.current.appendChild(ctrl.onAdd(mapRef.current.getMap())); // connects geo coder with the map\n\n    ctrl.on('result', e => {\n      const coords = e.result.geometry.coordinates;\n      dispatch({\n        type: 'FILTER_ADDRESS',\n        payload: {\n          lng: coords[0],\n          lat: coords[1]\n        }\n      });\n    });\n    ctrl.on('clear', () => dispatch({\n      type: 'CLEAR_ADDRESS'\n    }));\n  }, []);\n  return null;\n};\n_s(GeocoderInput, \"L8p9+lO1A3M1B3am+lNj1BHC3gc=\", false, function () {\n  return [useValue];\n});\n_c = GeocoderInput;\nexport default GeocoderInput;\nvar _c;\n$RefreshReg$(_c, \"GeocoderInput\");","map":{"version":3,"names":["React","useEffect","MapboxGeocoder","useValue","ctrl","marker","accessToken","process","env","REACT_APP_MAP_TOKEN","GeocoderInput","_s","mapRef","searchRef","dispatch","_searchRef$current","current","children","removeChild","appendChild","onAdd","getMap","on","e","coords","result","geometry","coordinates","type","payload","lng","lat","_c","$RefreshReg$"],"sources":["C:/Users/igorl/Downloads/geardepo5-master/client/src/components/filtersearch/GeocoderInput.js"],"sourcesContent":["import React, { useEffect } from 'react'\nimport MapboxGeocoder from '@mapbox/mapbox-gl-geocoder'\nimport { useValue } from '../../context/ContextProvider'\n\nconst ctrl = new MapboxGeocoder({\n    marker: false,\n    accessToken: process.env.REACT_APP_MAP_TOKEN\n})\n\nconst GeocoderInput = () => {\n    const {mapRef, searchRef, dispatch} =useValue();\n\n    useEffect(()=>{\n        if(searchRef?.current?.children[0]){\n            searchRef.current.removeChild(searchRef.current.children[0])\n        }\n        searchRef.current.appendChild(ctrl.onAdd(mapRef.current.getMap())) // connects geo coder with the map\n\n        ctrl.on('result', (e)=>{\n            const coords = e.result.geometry.coordinates\n            dispatch({\n                type:'FILTER_ADDRESS',\n                payload:{lng:coords[0], lat:coords[1]}\n            })\n        })\n\n         ctrl.on('clear', ()=> dispatch({type:'CLEAR_ADDRESS'}))\n    }, [])\n\n  return (\n    null\n  )\n}\n\nexport default GeocoderInput"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,cAAc,MAAM,4BAA4B;AACvD,SAASC,QAAQ,QAAQ,+BAA+B;AAExD,MAAMC,IAAI,GAAG,IAAIF,cAAc,CAAC;EAC5BG,MAAM,EAAE,KAAK;EACbC,WAAW,EAAEC,OAAO,CAACC,GAAG,CAACC;AAC7B,CAAC,CAAC;AAEF,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAACC,MAAM;IAAEC,SAAS;IAAEC;EAAQ,CAAC,GAAEX,QAAQ,CAAC,CAAC;EAE/CF,SAAS,CAAC,MAAI;IAAA,IAAAc,kBAAA;IACV,IAAGF,SAAS,aAATA,SAAS,gBAAAE,kBAAA,GAATF,SAAS,CAAEG,OAAO,cAAAD,kBAAA,eAAlBA,kBAAA,CAAoBE,QAAQ,CAAC,CAAC,CAAC,EAAC;MAC/BJ,SAAS,CAACG,OAAO,CAACE,WAAW,CAACL,SAAS,CAACG,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC,CAAC;IAChE;IACAJ,SAAS,CAACG,OAAO,CAACG,WAAW,CAACf,IAAI,CAACgB,KAAK,CAACR,MAAM,CAACI,OAAO,CAACK,MAAM,CAAC,CAAC,CAAC,CAAC,EAAC;;IAEnEjB,IAAI,CAACkB,EAAE,CAAC,QAAQ,EAAGC,CAAC,IAAG;MACnB,MAAMC,MAAM,GAAGD,CAAC,CAACE,MAAM,CAACC,QAAQ,CAACC,WAAW;MAC5Cb,QAAQ,CAAC;QACLc,IAAI,EAAC,gBAAgB;QACrBC,OAAO,EAAC;UAACC,GAAG,EAACN,MAAM,CAAC,CAAC,CAAC;UAAEO,GAAG,EAACP,MAAM,CAAC,CAAC;QAAC;MACzC,CAAC,CAAC;IACN,CAAC,CAAC;IAEDpB,IAAI,CAACkB,EAAE,CAAC,OAAO,EAAE,MAAKR,QAAQ,CAAC;MAACc,IAAI,EAAC;IAAe,CAAC,CAAC,CAAC;EAC5D,CAAC,EAAE,EAAE,CAAC;EAER,OACE,IAAI;AAER,CAAC;AAAAjB,EAAA,CAvBKD,aAAa;EAAA,QACsBP,QAAQ;AAAA;AAAA6B,EAAA,GAD3CtB,aAAa;AAyBnB,eAAeA,aAAa;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}